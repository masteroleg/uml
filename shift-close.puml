@startuml
!include https://raw.githubusercontent.com/masteroleg/uml/refs/heads/main/definitions.puml

oper -> S : Решил закрыть смену
S -> oper : "Закрытие смены: нераспределенные канистры будут отправлены на Отстой либо в Брак. Вы уверены?"

alt Ответ: Нет
    S -> oper : Возврат в основной цикл производства
else Ответ: Да
    loop Пока в Нераспределенные канистры есть канистры
        oper -> scaner : Сканировать канистру из Нераспределенные канистры
        scaner -> S : Данные о канистре
        alt Статус: Отстой
            S -> Отстой : Отправить канистру в Отстой
            S -> Временное хранение : Переместить канистру на временное хранение
        else Статус: Брак
            S -> Брак : Отправить канистру в Брак
            S -> Временное хранение : Переместить канистру на временное хранение
        end
    end
    S -> oper : Нельзя закрыть смену, пока в Нераспределенные канистры есть хотя бы одна канистра
end
@enduml